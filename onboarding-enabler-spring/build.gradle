buildscript {
    repositories mavenRepositories

    ext {
        springBootVersion = rootProject.ext.springBootVersion
    }

    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
    }
}

apply plugin: 'io.spring.dependency-management'

publish {
    outputs.upToDateWhen { false }
    doLast {
        println "onboarding-enabler-spring has been successfully published"
    }
}

dependencies {
    implementation project(':apiml-utility')
    implementation project(':onboarding-enabler-java')
    implementation project(':common-service-core')

    implementation libraries.spring_boot_starter_web
    implementation libraries.tomcat_embed_core
    implementation libraries.tomcat_embed_websocket

    implementation libraries.spring_aop
    implementation libraries.spring_beans
    implementation libraries.spring_context
    implementation libraries.spring_core
    implementation libraries.spring_expression
    implementation libraries.spring_web

    implementation libraries.lombok
    annotationProcessor libraries.lombok

    implementation libraries.javax_inject
    implementation libraries.eureka_client

    testImplementation libraries.spring_boot_starter_test
    testImplementation libraries.json_smart
    testImplementation libraries.mockito_core

    annotationProcessor libraries.spring_boot_configuration_processor
    testImplementation libraries.gson
}

jar {
    archiveBaseName.set("onboarding-enabler-spring")
    archiveFileName = archiveBaseName.get() + ".jar"
}
