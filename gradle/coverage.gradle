ext.javaProjectsWithUnitTests = [
    'api-catalog-services',
    'common-service-core',
    'discoverable-client',
    'discovery-service',
    'apiml-common',
    'gateway-service',
    'integration-enabler-spring-v2',
    'integration-enabler-java',
    'onboarding-enabler-java',
    'onboarding-enabler-spring',
    'onboarding-enabler-spring-v1',
    'onboarding-enabler-spring-v2',
    'helloworld-spring',
    'security-module',
    'security-service-client-spring',
    'apiml-security-common'
]


configure(subprojects.findAll { it.name in javaProjectsWithUnitTests }) {
    apply plugin: 'java'
    apply plugin: 'idea'
    apply plugin: 'jacoco'
    jacoco {
        toolVersion = '0.8.2'
    }

    jacocoTestReport {
        dependsOn test
        reports {
            xml.enabled true
            html.enabled true
        }
    }
}
